<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Công cụ tính thuế TNCN</title>
    <style>
        :root {
            --primary-orange: #FF6000;
            --white: #FFFFFF;
            --gray-text: #808080;
            --bg-light: #f9f9f9;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-light);
            display: flex;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background-color: var(--white);
            width: 100%;
            max-width: 600px;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
        }

        h2 {
            color: var(--primary-orange);
            text-align: center;
            font-size: 20px;
            margin-bottom: 30px;
            text-transform: uppercase;
        }

        .form-group {
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        label {
            flex: 1;
            color: #333;
            font-weight: 500;
            font-size: 14px;
        }

        input, select {
            flex: 1.5;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            outline: none;
            transition: border 0.3s;
        }

        input:focus {
            border-color: var(--primary-orange);
        }

        .result-box {
            background-color: #fff5ed;
            padding: 20px;
            border-radius: 8px;
            margin-top: 25px;
            border-left: 5px solid var(--primary-orange);
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .highlight-orange {
            color: var(--primary-orange);
            font-weight: bold;
        }

        .gray-note {
            color: var(--gray-text);
            font-size: 12px;
            font-style: italic;
            margin-top: 10px;
        }

        button {
            width: 100%;
            padding: 12px;
            background-color: var(--primary-orange);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
            margin-top: 10px;
        }

        button:hover {
            opacity: 0.9;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>Tính thuế TNCN (Lương Gross)</h2>

    <div class="form-group">
        <label>Tổng thu nhập (GROSS)</label>
        <input type="number" id="grossSalary" value="10000000">
    </div>

    <div class="form-group">
        <label>Số người phụ thuộc</label>
        <input type="number" id="dependents" value="1">
    </div>

    <button onclick="calculateTax()">TÍNH TOÁN</button>

    <div class="result-box" id="resultArea">
        <div class="result-item">
            <span>Bảo hiểm xã hội (8%):</span>
            <span id="bhxh">0</span>
        </div>
        <div class="result-item">
            <span>Bảo hiểm y tế (1.5%):</span>
            <span id="bhyt">0</span>
        </div>
        <div class="result-item">
            <span>Bảo hiểm thất nghiệp (1%):</span>
            <span id="bhtn">0</span>
        </div>
        <div class="result-item">
            <span>Giảm trừ cá nhân:</span>
            <span>11.000.000</span>
        </div>
        <div class="result-item">
            <span>Giảm trừ phụ thuộc:</span>
            <span id="gtpt">0</span>
        </div>
        <hr style="border: 0.5px solid #eee;">
        <div class="result-item">
            <strong>Thuế TNCN phải nộp:</strong>
            <span id="finalTax" class="highlight-orange">0 VNĐ</span>
        </div>
    </div>

    <p class="gray-note">* Đây là con số tạm tính dựa trên quy định hiện hành.</p>
</div>

<script>
    function formatMoney(num) {
        return num.toLocaleString('vi-VN') + " VNĐ";
    }

    function calculateTax() {
        const gross = parseFloat(document.getElementById('grossSalary').value) || 0;
        const dependents = parseInt(document.getElementById('dependents').value) || 0;

        // 1. Tính bảo hiểm (Tạm tính trên lương Gross, tối đa theo vùng - ở đây tính đơn giản 10.5%)
        const bhxh = gross * 0.08;
        const bhyt = gross * 0.015;
        const bhtn = gross * 0.01;
        const totalInsurance = bhxh + bhyt + bhtn;

        // 2. Giảm trừ
        const personalReduction = 11000000;
        const dependentReduction = dependents * 4400000;

        // 3. Thu nhập tính thuế
        let taxableIncome = gross - totalInsurance - personalReduction - dependentReduction;
        if (taxableIncome < 0) taxableIncome = 0;

        // 4. Tính thuế theo bậc
        let tax = 0;
        if (taxableIncome <= 5000000) {
            tax = taxableIncome * 0.05;
        } else if (taxableIncome <= 10000000) {
            tax = taxableIncome * 0.1 - 250000;
        } else if (taxableIncome <= 18000000) {
            tax = taxableIncome * 0.15 - 750000;
        } else if (taxableIncome <= 32000000) {
            tax = taxableIncome * 0.2 - 1650000;
        } else if (taxableIncome <= 52000000) {
            tax = taxableIncome * 0.25 - 3250000;
        } else if (taxableIncome <= 80000000) {
            tax = taxableIncome * 0.3 - 5850000;
        } else {
            tax = taxableIncome * 0.35 - 9850000;
        }

        // Hiển thị kết quả
        document.getElementById('bhxh').innerText = formatMoney(bhxh);
        document.getElementById('bhyt').innerText = formatMoney(bhyt);
        document.getElementById('bhtn').innerText = formatMoney(bhtn);
        document.getElementById('gtpt').innerText = formatMoney(dependentReduction);
        document.getElementById('finalTax').innerText = formatMoney(tax);
    }

    // Chạy lần đầu
    calculateTax();
</script>

</body>
</html>
